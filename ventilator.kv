#:kivy 1.11.1
#:import LinePlot kivy_garden.graph.LinePlot

<Header>:
    orientation: "horizontal"
    size_hint: (1, None)
    height: 60
    
    
    time: time
    canvas:
        Color:
            rgba: 0.07, 0.196, 0.392, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: "horizontal"
        #padding_x: 15
        Image:
            id: avatar
            source: "young-man.png"
            keep_ratio: False
            allow_stretch: False
            size_hint_x: None
            width: 50
            halign: 'right'
        Label:
            id: user
            text: "Zacharias Townsend\n765-316-1313"
            font_size: 18
            text_size: self.size
            halign: "left"
            valign: "middle"
            padding_x: 15
    Image:
        id: logo
        source: "logo.png"
        keep_ratio: True
        allow_stretch: False
        size_hint_x: None
        width: 250

    Label:
        id: time
        text: root.now
        font_size: 18
        text_size: self.size
        halign: "right"
        valign: 'middle'
        padding_x: 10

<Home>:
    pressure: pressure
    flow: flow
    volumn: volumn
    canvas:
        Color:
            rgba: 0.0157, 0.1137, 0.2667, 1
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: "horizontal"
        BoxLayout:
            padding: 15
            size_hint_x: None
            width: 800
            orientation: "vertical"
            #plot1 - pressure
            #plot2 - flow
            #plot3 - volumn
            
            Graph:
                id: pressure
                plot: LinePlot
                #xlabel:'X'
                ylabel:'Pressure'
                font_size: 20
                padding: 10
                tick_color: 1, 1, 1, 0.5
                border_color: 1, 1, 1, 1
                #background_color: 0.01, 0.1, 0.25, 1
                x_ticks_major:10
                y_ticks_major:10
                y_grid_label:False
                x_grid_label:False
                x_grid:True
                y_grid:True
                xmin:-0
                xmax:100
                ymin:195
                ymax:200
            Graph:
                id: flow
                plot: LinePlot
                #xlabel:'X'
                ylabel:'Flow'
                font_size: 20
                padding: 10
                tick_color: 1, 1, 1, 0.5
                border_color: 1, 1, 1, 1
                #background_color: 0.01, 0.1, 0.25, 1
                x_ticks_major:10
                y_ticks_major:0.08
                y_grid_label:False
                x_grid_label:False
                x_grid:True
                y_grid:True
                xmin:-0
                xmax:100
                ymin:-0
                ymax:0.06
            Graph:
                id: volumn
                plot: LinePlot
                #xlabel:'X'
                ylabel:'Volume'
                font_size: 20
                padding: 10
                tick_color: 1, 1, 1, 0.5
                border_color: 1, 1, 1, 1
                #background_color: 0.01, 0.1, 0.25, 1
                x_ticks_major:10
                y_ticks_major:0.25
                y_grid_label:False
                x_grid_label:False
                x_grid:True
                y_grid:True
                xmin:-0
                xmax:100
                ymin:-0
                ymax:0.2
                

        BoxLayout:
            padding: 15
            orientation: "vertical"
            id: right
            #parameter1 IE ratio
            #parameter2 Resp. Rate
            #parameter3 temp
            #parameter4 humidity
            BoxLayout:
                orientation: "vertical"
                Label:
                    id: ieratio
                    text: "I:E Ratio"
                    font_size: 25
                    text_size: self.size
                    halign: "center"
                    valign: "middle"
                    padding_x: 15
                BoxLayout:
                    orientation: "horizontal"
                    Button:
                        text: "+"
                        text_size: self.size
                        background_normal: ''
                        background_color: 0.0157, 0.1137, 0.2667, 1
                        font_size: 25
                        halign: 'center'
                        valign: 'top'
                        on_press: 
                            root.left_one() 
                            app.beep()
                    Label:
                        id: ie
                        text: str(root.ie)
                        font_size: 25
                        text_size: self.size
                        halign: 'center'
                        valign: 'top'
                    Button:
                        text: '+'
                        text_size: self.size
                        background_normal: ''
                        background_color: 0.0157, 0.1137, 0.2667, 1
                        font_size: 25
                        halign: 'center'
                        valign: 'top'
                        on_press: 
                            root.right_one()
                            app.beep()
            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "Resp. Rate"
                    font_size: 25
                    text_size: self.size
                    halign: "center"
                    valign: "bottom"
                    padding_x: 15
                BoxLayout:
                    orientation: "horizontal"
                    Button:
                        text: "-"
                        text_size: self.size
                        background_normal: ''
                        background_color: 0.0157, 0.1137, 0.2667, 1
                        font_size: 25
                        halign: 'center'
                        valign: 'top'
                        on_press: 
                            root.minus_one() 
                            app.beep()
                    Label:
                        id: resp
                        text: str(root.resp)
                        font_size: 25
                        text_size: self.size
                        halign: 'center'
                        valign: 'top'
                    Button:
                        text: '+'
                        text_size: self.size
                        background_normal: ''
                        background_color: 0.0157, 0.1137, 0.2667, 1
                        font_size: 25
                        halign: 'center'
                        valign: 'top'
                        on_press: 
                            root.plus_one()
                            app.beep()
            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "Temperature"
                    font_size: 25
                    text_size: self.size
                    halign: "center"
                    valign: "bottom"
                    padding_x: 15
                Label:
                    id: temp
                    text: str(root.temperature) + "\xb0F"
                    font_size: 25
                    text_size: self.size
                    halign: 'center'
                    valign: 'top'
                    
            BoxLayout:
                orientation: "vertical"
                Label:
                    text: "Humidity"
                    font_size: 25
                    text_size: self.size
                    halign: "center"
                    valign: "bottom"
                    padding_x: 15
                Label:
                    id: humid
                    text: str(root.humidity) + "%"
                    font_size: 25
                    text_size: self.size
                    halign: 'center'
                    valign: 'top'



<Records>:
    canvas:
        Color:
            rgba: 0.0157, 0.1137, 0.2667, 1
        Rectangle:
            pos: self.pos
            size: self.size


<Alarms>:
    canvas:
        Color:
            rgba: 0.0157, 0.1137, 0.2667, 1
        Rectangle:
            pos: self.pos
            size: self.size


<MainMenu>:
    orientation: "horizontal"
    size_hint: (1, None)
    height: 50
    spacing: 5
    padding: 5
    canvas:
        Color:
            rgba: 0.0157, 0.1137, 0.2667, 1
        Rectangle:
            pos: self.pos
            size: self.size
    ToggleButton:
        group: "mainmenu"
        state: "down"
        text: "Home"
        background_color: 0.07, 0.196, 0.392, 1.0
        on_press:
            app.manager.current = "home"
            if self.state == "normal": self.state = "down"
            app.beep()
    ToggleButton:
        group: "mainmenu"
        text: "Records"
        background_color: 0.07, 0.196, 0.392, 1.0
        on_press:
            app.manager.current = "records"
            if self.state == "normal": self.state = "down"
            app.beep()
    ToggleButton:
        group: "mainmenu"
        text: "Alarms"
        background_color: 0.07, 0.196, 0.392, 1.0
        on_press:
            app.manager.current = "alarms"
            if self.state == "normal": self.state = "down"
            app.beep()


